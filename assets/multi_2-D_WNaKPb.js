import{a as e,R as i,r as n,j as s,L as t}from"./index-dWbV2YWN.js";import{L as r,J as a}from"./endpoints-C8SDwtyd.js";import{B as o,g as d}from"./button-BYsJFizr.js";import{r as l,T as c}from"./multi-D10eDJXv.js";import{E as h}from"./bulkwrapper-lVatfgrI.js";import"./timestamp-ykkkBbSZ.js";import"./copytoclipboard-Cy7DO2po.js";import"./table_util-DcgUt5Gf.js";import"./SimpleChart-CDY-4U1s.js";import"./theme-provider-UldqYbSh.js";import"./DataTable-BzuxNtBf.js";import"./useSuspenseQuery-C4hISphF.js";import"./loading-DZKuFaBE.js";function m(){const{nation:m}=e(),[p,j]=i.useState(!0),x=n.useCallback((()=>{j((e=>!e))}),[j]);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-light/10 border border-light/10 mb-2 rounded",children:[s.jsxs(o,{variant:"ghost",size:"md",className:"text-2xl w-full border-b border-secondary px-2 bg-primary/10 justify-start",onClick:x,children:["Column descriptions ",p?s.jsx(r,{name:"ChevronDown"}):s.jsx(r,{name:"ChevronUp"})]}),s.jsxs("div",{className:"transition-all duration-200 ease-in-out "+(p?"max-h-0 opacity-0 overflow-hidden":"p-2 opacity-100"),children:[s.jsxs("ul",{className:"p-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Nation"}),": The name of the nation."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Alliance"}),": The name of the alliance the nation belongs to."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Age"}),": The age of the nation in days."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Cities"}),": The number of cities in the nation."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Shared IPs"}),": The number of shared IP addresses between the two nations."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Shared IP %"}),": Percent of nations in both multi reports that are the same (weighted by IP)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Shared Nation %"}),": Percent of nations in both multi reports that are the same."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Same IP"}),": Last login used the same IP address."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Banned"}),": Indicates if the nation is banned."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Login Diff"}),": The time difference between their last logins."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Same Activity %"}),": The percentage turns both are active within the past 2 weeks."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"% Online"}),": The percentage of turns the nation is active in general within the past 2w."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Discord"}),": The Discord handle of the nation (may be blank even if they have verified in the past)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Discord Linked"}),": Indicates if the Discord account is linked with this bot."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"IRL Verified"}),": Indicates if the nation is verified their IRL identity."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Customization"}),": The amount of basic customization done to the nation (such as flag)."]})]}),s.jsx("p",{className:"p-2 bg-primary/20",children:"If the shared % says N/A, it means the nation has not been checked for shared IPs. You can try loading the multi page for that nation, then refreshing this page."})]})]}),s.jsx(h,{endpoint:a,args:{nation:m,forceUpdate:d().get("update")??"false"},children:({data:e})=>{const i=[[l(e.nationId,e.nation,"nation",e.banned?"BANNED":void 0,void 0),l(e.allianceId,e.alliance,"alliance",void 0,void 0),e.age,e.cities,e.lastActive,e.percentOnline,e.discord,e.discord_linked,e.irl_verified,e.customization,e.dateFetched]],n=e.rows.map((e=>[l(e.id,e.Nation,"nation",e.banned?"BANNED":void 0,"multi_v2"),l(e.alliance_id,e.alliance,"alliance",void 0,void 0),e.age,e.cities,e.shared_ips,e.shared_percent,e.shared_nation_percent,e.same_ip,e.banned?"true":"",e.login_diff,e.same_activity_percent,e.percentOnline,e.discord,e.discord_linked,e.irl_verified,e.customization]));return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-light/10 border border-light/10 p-2",children:[s.jsx(c,{columns:["Nation","Alliance","Age","Cities","Last Active","% Online","Discord","Discord Linked","IRL Verified","Customization","Updated"],data:i,renderers:["normal","normal","duration_day","comma","diff_ms","percent","normal","normal","normal","percent_100","diff_ms"]}),s.jsx("hr",{className:"my-1"}),e.dateFetched<Date.now()-864e5&&s.jsx(o,{variant:"outline",size:"sm",className:"border-red-800/70",asChild:!0,children:s.jsx(t,{to:"?update=true",children:"Update"})})]}),s.jsx("hr",{className:"my-2"}),s.jsxs("div",{className:"bg-light/10 border border-light/10 rounded-t",children:[s.jsx("h2",{className:"text-2xl w-full border-b border-secondary px-2 bg-primary/10",children:"Shared Networks (Unique IDs)"}),s.jsx("div",{className:"p-2",children:s.jsx(c,{columns:["Nation","Alliance","Age","Cities","Shared IPs","Shared IP %","Shared Nation %","Same IP","Banned","Login Diff","Same Activity %","% Online","Discord","Discord Linked","IRL Verified","Customization"],data:n,renderers:["normal","normal","duration_day","comma","comma","percent","percent","normal","normal","duration_ms","percent","percent","normal","normal","normal","percent_100"],sort:{idx:5,dir:"desc"}})})]})]})}})]})}export{m as default};
