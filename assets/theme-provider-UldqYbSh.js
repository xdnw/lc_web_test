import{R as e,j as t,k as n,r as o}from"./index-dWbV2YWN.js";import{c as r}from"./button-BYsJFizr.js";import{L as s}from"./endpoints-C8SDwtyd.js";const i=e.createContext(void 0),a=({children:n,defaultOpen:o=!1,open:r,onOpenChange:s})=>{const[a,l]=e.useState(o),[c,d]=e.useState(null),[u,m]=e.useState(new Map),[f,p]=e.useState(null),[h,w]=e.useState(null),g=void 0!==r,v=g?r:a,b=e.useCallback((e=>{if(g||l(e),s){const t="function"==typeof e?e(v):e;s(t)}}),[g,s,v]),x=e.useCallback(((e,t)=>{m((n=>{const o=new Map(n);return o.set(e,t),o})),t?p(e):f===e&&p(null)}),[f]),C=e.useCallback((e=>{m((t=>{const n=new Map(t);return n.delete(e),n})),f===e&&p(null)}),[f]);e.useEffect((()=>{const e=e=>{"Escape"===e.key&&v&&b(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[v,b]);const y=e.useCallback((e=>{const t=e.target;c&&!c.contains(t)&&h&&!h.contains(t)&&b(!1)}),[c,h,b]);return e.useEffect((()=>{if(v)return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)}),[v,y]),t.jsx(i.Provider,{value:{open:v,setOpen:b,triggerElement:c,setTriggerElement:d,contentElement:h,setContentElement:w,registerSubmenu:x,unregisterSubmenu:C,activeSubmenu:f},children:n})},l=e.forwardRef((({children:n,asChild:o=!1,...r},s)=>{const i=m(),[a,l]=e.useState(null);e.useEffect((()=>{a&&i.setTriggerElement(a)}),[a,i]);const c=e.useCallback((e=>{l(e),"function"==typeof s?s(e):s&&(s.current=e)}),[s]),d=e.useCallback((e=>{var t;i.setOpen(!i.open),null==(t=r.onClick)||t.call(r,e)}),[i,r]);return o?t.jsx("span",{role:"button","aria-haspopup":"menu","aria-expanded":i.open,ref:c,onClick:d,...r,children:n}):t.jsx("button",{type:"button","aria-haspopup":"menu","aria-expanded":i.open,ref:c,...r,onClick:d,children:n})}));l.displayName="DropdownMenuTrigger";e.forwardRef((({children:e,className:n,...o},s)=>t.jsx("div",{ref:s,role:"group",className:r("",n),...o,children:e}))).displayName="DropdownMenuGroup";const c=({children:t,container:o})=>{const[r,s]=e.useState(!1);return e.useEffect((()=>(s(!0),()=>s(!1))),[]),r?n.createPortal(t,o||document.body):null};const d=e.forwardRef((({children:n,className:o,sideOffset:s=4,align:i="center",alignOffset:a=0,avoidCollisions:l=!0,...d},u)=>{const f=m(),p=e.useRef(null),[h,w]=e.useState({position:"absolute",top:-9999,left:-9999,visibility:"hidden",zIndex:50});return e.useLayoutEffect((()=>{if(p.current&&f.triggerElement&&f.open){const e=function(e,t,{sideOffset:n=4,align:o="center",alignOffset:r=0,avoidCollisions:s=!0}={}){const i=e.getBoundingClientRect(),a=(null==t?void 0:t.getBoundingClientRect())??{width:0,height:0};let l=i.bottom+n+window.scrollY,c=i.left+(i.width-a.width)/2+window.scrollX;return"start"===o?c=i.left+r+window.scrollX:"end"===o&&(c=i.right-a.width-r+window.scrollX),s&&(window.innerWidth-(c+a.width)<8&&(c=Math.max(8,c+window.innerWidth-(c+a.width)-8)),c<8&&(c=8),window.innerHeight-(l+a.height)<8&&(l=Math.max(8,window.innerHeight-a.height-8))),{position:"absolute",top:l,left:c,visibility:"visible",zIndex:50}}(f.triggerElement,p.current,{sideOffset:s,align:i,alignOffset:a,avoidCollisions:l});w(e)}}),[s,i,a,l,f.triggerElement,f.open]),e.useEffect((()=>(p.current&&f.setContentElement(p.current),()=>{f.setContentElement(null)})),[f]),e.useEffect((()=>{u&&p.current&&"function"==typeof u&&u(p.current)}),[u]),t.jsx(c,{children:t.jsx("div",{ref:p,role:"menu","aria-orientation":"vertical",style:{...h,display:f.open?"block":"none"},className:r("min-w-[8rem] overflow-hidden border bg-popover p-1 text-popover-foreground shadow-md","animate-in fade-in-0 zoom-in-95","data-[side=bottom]:slide-in-from-top-2","data-[side=left]:slide-in-from-right-2","data-[side=right]:slide-in-from-left-2","data-[side=top]:slide-in-from-bottom-2",o),...d,children:n})})}));d.displayName="DropdownMenuContent";const u=e.createContext(void 0),m=()=>{const t=e.useContext(i);if(!t)throw new Error("Dropdown menu components must be used within a DropdownMenu");return t},f=()=>{const t=e.useContext(u);if(!t)throw new Error("Dropdown submenu components must be used within a DropdownMenuSub");return t};e.forwardRef((({className:n,inset:o,children:i,...a},l)=>{const c=f(),d=e.useCallback((e=>{c.setTriggerElement(e),"function"==typeof l&&l(e)}),[c,l]),u=e.useCallback((()=>{c.setOpen(!0)}),[c]),m=e.useCallback((()=>{setTimeout((()=>{c.setOpen(!1)}),100)}),[c]);return t.jsxs("div",{ref:d,role:"menuitem","aria-haspopup":"menu","aria-expanded":c.open,onPointerEnter:u,onPointerLeave:m,className:r("flex cursor-default select-none items-center px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",o&&"pl-8",n),...a,children:[i,t.jsx(s,{name:"ChevronRight",className:"ml-auto h-4 w-4"})]})})).displayName="DropdownMenuSubTrigger";e.forwardRef((({className:n,...o},s)=>{const i=m(),a=f(),l=e.useRef(null),[c,d]=e.useState(!1),[u,p]=e.useState({position:"absolute",visibility:"hidden",zIndex:51});e.useEffect((()=>{s&&l.current&&"function"==typeof s&&s(l.current)}),[s]),e.useEffect((()=>{d(a.open)}),[a.open]);const h=e.useCallback((()=>{c&&l.current&&a.triggerElement&&function(e,t){var n;const o=e.getBoundingClientRect(),r=(null==(n=t.current)?void 0:n.getBoundingClientRect())??{width:0,height:0};let s=o.top+window.scrollY,i=o.right+4+window.scrollX;window.innerWidth-(i+r.width)<8&&(i=o.left-r.width-4+window.scrollX),window.innerHeight-(s+r.height)<8&&(s=Math.max(8,window.innerHeight-r.height-8+window.scrollY))}(a.triggerElement,l)}),[c,a.triggerElement]);return e.useEffect((()=>{if(c&&l.current&&a.triggerElement)return h(),window.addEventListener("resize",h),window.addEventListener("scroll",h),()=>{window.removeEventListener("resize",h),window.removeEventListener("scroll",h)}}),[c,a.triggerElement,h]),i.open?t.jsx("div",{ref:l,role:"menu","aria-orientation":"vertical",style:u,className:r("min-w-[8rem] overflow-hidden border bg-popover p-1 text-popover-foreground shadow-md","animate-in fade-in-0 zoom-in-95","data-[side=bottom]:slide-in-from-top-2","data-[side=left]:slide-in-from-right-2","data-[side=right]:slide-in-from-left-2","data-[side=top]:slide-in-from-bottom-2",a.open?"opacity-100":"opacity-0 pointer-events-none","transition-opacity duration-150",n),...o}):null})).displayName="DropdownMenuSubContent";e.forwardRef((({className:n,children:o,value:s,onValueChange:i,...a},l)=>t.jsx("div",{ref:l,role:"radiogroup",className:r("",n),"data-value":s||"",...a,children:e.Children.map(o,(t=>{if(!e.isValidElement(t))return t;const n=t;return e.cloneElement(n,{checked:n.props.value===s,onSelect:()=>null==i?void 0:i(n.props.value)})}))}))).displayName="DropdownMenuRadioGroup";const p=e.forwardRef((({className:n,inset:o,disabled:s,...i},a)=>{const l=m(),c=e.useCallback((e=>{if(!s){if(i.onClick){const t=i.onClick(e);Promise.resolve(t).then((()=>{l.setOpen(!1)}))}else l.setOpen(!1);e.preventDefault()}}),[l,s,i]);return t.jsx("div",{ref:a,role:"menuitem",tabIndex:s?-1:0,"aria-disabled":s,className:r("relative flex cursor-default select-none items-center px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground",o&&"pl-8",s&&"pointer-events-none opacity-50",n),...i,onClick:c,onKeyDown:c})}));p.displayName="DropdownMenuItem";e.forwardRef((({className:n,children:o,checked:i,onCheckedChange:a,disabled:l,...c},d)=>{m();const u=e.useCallback((e=>{var t;l||(e.preventDefault(),null==a||a(!i),null==(t=c.onClick)||t.call(c,e))}),[i,l,a,c]);return t.jsxs("div",{ref:d,role:"menuitemcheckbox","aria-checked":i,tabIndex:l?-1:0,"aria-disabled":l,className:r("relative flex cursor-default select-none items-center py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground",l&&"pointer-events-none opacity-50",n),...c,onClick:u,onKeyDown:u,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i&&t.jsx(s,{name:"Check",className:"h-4 w-4"})}),o]})})).displayName="DropdownMenuCheckboxItem";e.forwardRef((({className:n,children:o,value:i,checked:a,onSelect:l,disabled:c,...d},u)=>{m();const f=e.useCallback((e=>{var t;c||(e.preventDefault(),null==l||l(),null==(t=d.onClick)||t.call(d,e))}),[c,l,d]);return t.jsxs("div",{ref:u,role:"menuitemradio","aria-checked":a,tabIndex:c?-1:0,"aria-disabled":c,"data-value":i,className:r("relative flex cursor-default select-none items-center py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground",c&&"pointer-events-none opacity-50",n),...d,onClick:f,onKeyDown:f,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a&&t.jsx(s,{name:"Circle",className:"h-2 w-2 fill-current"})}),o]})})).displayName="DropdownMenuRadioItem";e.forwardRef((({className:e,inset:n,...o},s)=>t.jsx("div",{ref:s,className:r("px-2 py-1.5 text-sm font-semibold",n&&"pl-8",e),...o}))).displayName="DropdownMenuLabel";e.forwardRef((({className:e,...n},o)=>t.jsx("div",{ref:o,role:"separator",className:r("-mx-1 my-1 h-px bg-muted",e),...n}))).displayName="DropdownMenuSeparator";const h=o.createContext({theme:"system",setTheme:()=>null});function w({children:e,defaultTheme:n="system",storageKey:r="vite-ui-theme",...s}){const[i,a]=o.useState((()=>localStorage.getItem(r)||n));o.useEffect((()=>{const e=window.document.documentElement;if(e.classList.remove("light","dark"),"system"!==i)e.classList.add(i);else{const t=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";e.classList.add(t)}}),[i]);const l={theme:i,setTheme:e=>{localStorage.setItem(r,e),a(e)}};return t.jsx(h.Provider,{...s,value:l,children:e})}const g=()=>{const e=o.useContext(h);if(void 0===e)throw new Error("useTheme must be used within a ThemeProvider");return e};export{a as D,w as T,l as a,d as b,p as c,g as u};
