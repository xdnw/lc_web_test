import{r as e,j as s,L as a,b as l,h as i,R as n}from"./index-dWbV2YWN.js";import{u as r,D as t,a as c,b as o,c as m,T as d}from"./theme-provider-UldqYbSh.js";import{B as h}from"./button-BYsJFizr.js";import{L as u,e as x,S as j,a6 as b}from"./endpoints-C8SDwtyd.js";import{u as p}from"./useQuery-DQU7waJ6.js";import{L as f}from"./loading-DZKuFaBE.js";import{I as g}from"./input-hcSfkvL2.js";import{D as N}from"./copytoclipboard-Cy7DO2po.js";import{S as w}from"./SessionContext-UTYWUXxA.js";function v(){const{setTheme:a}=r(),l=e.useCallback((e=>{const s=e.currentTarget.getAttribute("data-key");try{return a(s),new Promise((e=>{setTimeout((()=>e()),100)}))}catch(l){}}),[a]);return s.jsxs(t,{children:[s.jsx(c,{asChild:!0,children:s.jsxs(h,{variant:"outline",size:"icon",className:"m-0.5 h-7 w-7 rounded-[6px] [&_svg]:size-3.5",children:[s.jsx(u,{name:"Sun",className:"h-[1rem] w-[1rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),s.jsx(u,{name:"Moon",className:"absolute h-[1rem] w-[1rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),s.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),s.jsxs(o,{align:"end",children:[s.jsx(m,{"data-key":"light",onClick:l,children:"Light"}),s.jsx(m,{"data-key":"dark",onClick:l,children:"Dark"}),s.jsx(m,{"data-key":"system",onClick:l,children:"System"})]})]})}function k(){return s.jsxs(t,{children:[s.jsx(c,{asChild:!0,children:s.jsxs(h,{variant:"outline",size:"icon",className:"m-0.5 h-7 w-7 rounded-[6px] [&_svg]:size-3.5",children:[s.jsx(u,{name:"Settings",className:"h-[1rem] w-[1rem] rotate-0 scale-100 transition-all"}),s.jsx("span",{className:"sr-only",children:"Profile menu"})]})}),s.jsx(o,{align:"end",children:s.jsx(m,{children:s.jsx(a,{to:"/login",className:"w-full",children:"Login"})})})]})}function y(){const{data:e,isFetching:l}=p(x(j.endpoint,{}));if(l||!e)return s.jsx(f,{variant:"ripple"});if(!e.data)return s.jsx(k,{});const i=e.data;return s.jsxs(t,{children:[s.jsx(c,{asChild:!0,children:s.jsxs(h,{variant:"outline",size:"icon",className:"m-0.5 h-7 w-7 rounded-[6px] [&_svg]:size-3.5",children:[s.jsx(u,{name:"Settings",className:"h-[1rem] w-[1rem] rotate-0 scale-100 transition-all"}),s.jsx("span",{className:"sr-only",children:"Profile Menu"})]})}),s.jsxs(o,{align:"end",children:[s.jsx(m,{children:s.jsx(a,{className:"w-full",to:"/guild_select",children:i.guild?s.jsx(S,{session:i}):"Select Guild"})}),s.jsx(m,{children:s.jsx(a,{to:"/logout",className:"w-full",children:"Logout"})})]})]})}function S({session:e}){return s.jsxs(s.Fragment,{children:[e.guild_icon&&s.jsx("img",{src:e.guild_icon,alt:e.guild_name,className:"w-4 h-4 inline-block mr-1"}),e.guild_name?e.guild_name:"guild:"+e.guild]})}const C=n.memo((()=>s.jsxs("div",{className:"w-full p-0 flex items-center",children:[s.jsx(g,{id:"navbar-search",className:"relative w-full form-control rounded border-background px-1",type:"search",placeholder:"Search pages...","aria-label":"Search",name:"term"}),s.jsx("button",{type:"submit",className:"btn btn-light text-nowrap rounded-l-none",children:s.jsx("i",{className:"bi bi-search"})})]})));function L(){const r=l(),t=e.useMemo((()=>decodeURI(r.pathname).split("/").filter((e=>e))),[r.pathname]),c=e.useMemo((()=>i()),[]),o=e.useMemo((()=>0===t.length?s.jsx("span",{children:"Home"}):s.jsxs(s.Fragment,{children:[s.jsx(a,{to:"/",className:"text-blue-600 hover:text-blue-800 underline",children:"[index]"}),t.map(((e,l)=>{const i=`/${t.slice(0,l+1).join("/")}`;return s.jsxs(n.Fragment,{children:[s.jsx("span",{className:"mx-1",children:"/"}),s.jsx(a,{to:i,className:"text-blue-600 hover:text-blue-800 underline",children:e})]},i)}))]})),[t]),m=e.useMemo((()=>c?s.jsx(y,{}):s.jsx(k,{})),[c]),d=e.useMemo((()=>s.jsx(v,{})),[]);return s.jsxs("nav",{className:"bg-secondary border-bottom border-card flex flex-row items-center",children:[s.jsx("div",{className:"inline-block",children:d}),s.jsx("div",{className:"btn-group me-1",children:s.jsx("div",{className:"inline-block text-xs h-6 px-1 p-1 text-truncate bg-background rounded flex items-center justify-center",children:o})}),s.jsx(C,{}),s.jsx("div",{className:"p-0 ps-1 relative",children:m})]})}const T=e.memo((({href:e,iconName:a,label:l})=>s.jsx("li",{className:"mb-2",children:s.jsxs("a",{href:e,className:"text-blue-600 hover:text-blue-800 underline flex items-center",children:[s.jsx(u,{name:a,size:22,fallback:b}),l]})})));function M(){return s.jsx("footer",{className:"border-top border-red-500 mt-0 pt-3 bg-secondary",children:s.jsx("div",{className:"container mx-auto",children:s.jsxs("div",{className:"flex flex-wrap mx-4",children:[s.jsxs("div",{className:"w-full md:w-1/3 px-4",children:[s.jsx("img",{src:"https://cdn.discordapp.com/avatars/672237266940198960/0d78b819d401a8f983ab16242de195da.webp",className:"absolute",alt:"Logo",width:"18",height:"18"}),s.jsx("h5",{className:"font-medium ml-4",children:"Locutus"}),s.jsx("hr",{className:"my-2"}),s.jsxs("ul",{className:"list-none",children:[s.jsx(T,{href:"https://github.com/xdnw/locutus",iconName:"GitPullRequest",label:"Source Code"}),s.jsx(T,{href:"https://github.com/xdnw/locutus/wiki",iconName:"BookOpenText",label:"Wiki"}),s.jsx(T,{href:"https://locutus.link:8443/job/locutus/",iconName:"Infinity",label:"Jenkins"})]})]}),s.jsxs("div",{className:"w-full md:w-1/3 px-4",children:[s.jsx("h5",{className:"font-medium m-0",children:"Get in Touch"}),s.jsx("hr",{className:"my-2"}),s.jsxs("ul",{className:"list-none",children:[s.jsx(T,{href:"https://github.com/xdnw/locutus/issues",iconName:"Github",label:"Issue Tracker"}),s.jsx(T,{href:"https://discord.gg/cUuskPDrB7",iconName:"MessageSquareText",label:"Discord Server"}),s.jsx(T,{href:"discord://discord.com/users/664156861033086987",iconName:"CircleUserRound",label:"Discord User"}),s.jsx(T,{href:"https://politicsandwar.com/nation/id=189573",iconName:"Joystick",label:"In-Game"}),s.jsx(T,{href:"mailto:jessepaleg@gmail.com",iconName:"AtSign",label:"Email"})]})]}),s.jsxs("div",{className:"w-full md:w-1/3 px-4",children:[s.jsx("h5",{className:"font-medium m-0",children:"Legal"}),s.jsx("hr",{className:"my-2"}),s.jsxs("ul",{className:"list-none",children:[s.jsx(T,{href:"https://github.com/xdnw/locutus/blob/master/LICENSE",iconName:"ListX",label:"License"}),s.jsx(T,{href:"https://github.com/xdnw/locutus/blob/master/ToS.MD",iconName:"ListChecks",label:"Terms Of Service"}),s.jsx(T,{href:"https://github.com/xdnw/locutus/blob/master/PRIVACY.MD",iconName:"EyeOff",label:"Privacy Policy"}),s.jsx(T,{href:"https://github.com/xdnw/locutus/blob/master/SECURITY.md",iconName:"Bug",label:"Vulnerability Disclosure"})]})]})]})})})}function D({children:a}){const l=e.useMemo((()=>s.jsx(L,{})),[]);return s.jsx(N,{children:s.jsx(w,{children:s.jsx(d,{defaultTheme:"dark",storageKey:"vite-ui-theme",children:s.jsxs("div",{className:"min-h-screen themeBody",children:[l,s.jsx("div",{className:"flex flex-col",style:{minHeight:"calc(100vh - 245.5px)"},children:s.jsx("div",{className:"mt-1 p-1 grow",children:a})}),s.jsx(M,{})]})})})})}export{D as default};
