import{j as e,L as s,g as i}from"./index-dWbV2YWN.js";import{T as a,a as l,b as r,c as n,C as d}from"./copytoclipboard-Cy7DO2po.js";import{B as t}from"./button-BYsJFizr.js";import{e as c,L as o,S as m}from"./endpoints-C8SDwtyd.js";import{u as h}from"./useQuery-DQU7waJ6.js";function x(){return e.jsx("div",{className:"themeDiv p-2 ",children:e.jsxs(a,{defaultValue:"discord",children:[e.jsxs(l,{className:"w-full",children:[e.jsxs(r,{value:"discord",className:"w-full",children:[e.jsx("i",{className:"bi bi-discord"})," Discord OAuth"]}),e.jsxs(r,{value:"mail",className:"w-full",children:[e.jsx("i",{className:"bi bi-envelope-fill"})," Politics & War Mail"]})]}),e.jsx(n,{value:"discord",children:e.jsxs("div",{children:[e.jsxs("p",{children:["On discord, use the Locutus command ",e.jsx(d,{text:"/web"})]}),e.jsx("hr",{className:"my-2"}),e.jsx(t,{variant:"outline",size:"sm",className:"border-red-800/70",asChild:!0,children:e.jsxs(s,{to:i(),children:[e.jsx(o,{name:"KeyRound",size:16})," Login via Discord OAuth"]})}),e.jsx("hr",{className:"my-2"}),e.jsx("b",{children:e.jsx("u",{children:"What is discord?"})}),e.jsx("p",{children:"Discord is a voice, video, and text chat app that's used to communicate and hang out with communities and friends."}),e.jsx("p",{children:"Discord can be opened in browser or installed on your computer and mobile device."}),e.jsx(t,{variant:"outline",size:"sm",className:"border-red-800/70",asChild:!0,children:e.jsxs(s,{to:"https://discord.com/download",children:[e.jsx(o,{name:"ExternalLink",size:16})," Download Discord"]})})]})}),e.jsx(n,{value:"mail",children:e.jsxs("div",{children:[e.jsx(t,{variant:"outline",size:"sm",className:"border-red-800/70",asChild:!0,children:e.jsxs(s,{className:"",to:"/nation_picker",children:[e.jsx(o,{name:"Mail",size:16})," Send In-Game Mail"]})}),e.jsx("hr",{className:"my-2"}),e.jsx("h2",{className:"text-lg font-extrabold",children:"Here's what you need to do:"}),e.jsxs("ul",{className:"list-decimal list-inside bg-secondary p-3 rounded",children:[e.jsx("li",{children:"Click login and select your nation"}),e.jsx("li",{children:"You will be redirected to your in-game mail"}),e.jsx("li",{children:"Click the authentication link you were sent"})]})]})})]})})}function u(){const{data:i,error:a}=h(c(m.endpoint,{},!0));if(!(null==i?void 0:i.data)||i.error)return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[e.jsx("strong",{className:"font-bold",children:"Error: "}),e.jsxs("span",{className:"block sm:inline",children:["Could not fetch login data. ",(null==a?void 0:a.message)??(null==i?void 0:i.error)??"Unknown Error"]})]}),e.jsx(x,{})]});const l=i.data;return e.jsxs("div",{className:"bg-light/10 border border-light/10 p-2 rounded relative",children:[e.jsx("table",{className:"table-auto w-full border-separate border-spacing-y-1",children:e.jsxs("tbody",{children:[e.jsxs("tr",{className:"bg-secondary",children:[e.jsx("td",{className:"px-1 py-1 bg-secondary",children:"User"}),e.jsxs("td",{className:"px-1 py-1 bg-secondary",children:[l.user_icon&&e.jsx("img",{src:l.user_icon,alt:l.user_name,className:"w-4 h-4 inline-block mr-1"}),l.user_name?l.user_name+" | ":"",l.user?l.user:"N/A"]})]}),e.jsxs("tr",{className:"bg-secondary",children:[e.jsx("td",{className:"p-1",children:"Nation"}),e.jsx("td",{className:"p-1",children:e.jsxs("div",{className:"relative",children:[l.nation?e.jsx(s,{className:"text-blue-600 hover:text-blue-800 underline",to:`https://politicsandwar.com/nation/id=${l.nation}`,children:l.nation_name?l.nation_name:l.nation}):"N/A",l.alliance&&" | ",l.alliance?e.jsx(s,{className:"text-blue-600 hover:text-blue-800 underline",to:`https://politicsandwar.com/alliance/id=${l.alliance}`,children:l.alliance_name?l.alliance_name:l.alliance}):"",l.nation&&l.user&&e.jsx(t,{variant:"outline",size:"sm",className:"border-slate-600 absolute top-0 right-0",asChild:!0,children:e.jsx(s,{to:"/unregister",children:l.registered?l.registered_nation==l.nation?"Unlink":"!! Fix Invalid Registration !!":"Link to Discord"})})]})})]}),e.jsxs("tr",{className:"bg-secondary",children:[e.jsx("td",{className:"p-1",children:"Expires"}),e.jsx("td",{className:"p-1",children:e.jsxs("div",{className:"relative",children:[l.expires,e.jsx(t,{variant:"outline",size:"sm",className:"border-slate-600 absolute top-0 right-0",asChild:!0,children:e.jsx(s,{to:"/logout",children:"Logout"})})]})})]}),e.jsxs("tr",{className:"bg-secondary",children:[e.jsx("td",{className:"p-1",children:"Guild"}),e.jsx("td",{className:"p-1",children:e.jsxs("div",{className:"relative",children:[l.guild_icon&&e.jsx("img",{src:l.guild_icon,alt:l.guild_name,className:"w-4 h-4 inline-block mr-1"}),l.guild_name?l.guild_name+" | ":"",l.guild?l.guild:"N/A",e.jsx(t,{variant:"outline",size:"sm",className:"border-slate-600 absolute top-0 right-0",asChild:!0,children:e.jsx(s,{to:"/guild_select",children:l.guild?"Switch":"Select"})})]})})]})]})}),l.guild&&e.jsx(t,{variant:"link",className:"hover:text-blue-500 underline text-lg",asChild:!0,children:e.jsxs(s,{to:"/guild_member",children:["View Guild Member Homepage",e.jsx(o,{name:"ChevronRight"})]})})]})}export{x as L,u as S};
