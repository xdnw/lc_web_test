import{j as e,r as o,k as n}from"./index-dWbV2YWN.js";import{f as t,B as r,c as l}from"./button-BYsJFizr.js";import{i,j as s,s as d}from"./table_util-DcgUt5Gf.js";import{u as a,C as c}from"./copytoclipboard-Cy7DO2po.js";import{D as u,a as x,b as m,c as w}from"./theme-provider-UldqYbSh.js";import{L as f,Q as g}from"./endpoints-C8SDwtyd.js";function h(e,o,n){const t="function"==typeof e.colSpan?e.colSpan(n):1;if(Number.isInteger(t)&&t>1&&(!e.frozen||e.idx+t-1<=o))return t}function C(e){e.stopPropagation()}function p(e){null==e||e.scrollIntoView({inline:"nearest",block:"nearest"})}function v(e){let o=!1;const n={...e,preventGridDefault(){o=!0},isGridDefaultPrevented:()=>o};return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),n}const b=new Set(["Unidentified","Alt","AltGraph","CapsLock","Control","Fn","FnLock","Meta","NumLock","ScrollLock","Shift","Tab","ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Home","PageDown","PageUp","Insert","ContextMenu","Escape","Pause","Play","PrintScreen","F1","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12"]);function y(e){return(e.ctrlKey||e.metaKey)&&"Control"!==e.key}function I(o){return o.map((({key:o,idx:n,minWidth:t,maxWidth:r})=>e.jsx("div",{className:"mlln6zg7-0-0-beta-51",style:{gridColumnStart:n+1,minWidth:t,maxWidth:r},"data-measuring-cell-key":o},o)))}function S(e,o){return null!=e.renderEditCell&&!1!==("function"==typeof e.editable?e.editable(o):e.editable)}function R({rows:e,topSummaryRows:o,bottomSummaryRows:n,rowIdx:t,mainHeaderRowIdx:r,lastFrozenColumnIndex:l,column:i}){const s=(null==o?void 0:o.length)??0;if(t===r)return h(i,l,{type:"HEADER"});if(o&&t>r&&t<=s+r)return h(i,l,{type:"SUMMARY",row:o[t+s]});if(t>=0&&t<e.length){return h(i,l,{type:"ROW",row:e[t]})}return n?h(i,l,{type:"SUMMARY",row:n[t-e.length]}):void 0}function k({moveUp:e,moveNext:o,cellNavigationMode:n,columns:t,colSpanColumns:r,rows:l,topSummaryRows:i,bottomSummaryRows:s,minRowIdx:d,mainHeaderRowIdx:a,maxRowIdx:c,currentPosition:{idx:u,rowIdx:x},nextPosition:m,lastFrozenColumnIndex:w,isCellWithinBounds:f}){let{idx:g,rowIdx:h}=m;const C=t.length,p=e=>{for(const o of r){const n=o.idx;if(n>g)break;const t=R({rows:l,topSummaryRows:i,bottomSummaryRows:s,rowIdx:h,mainHeaderRowIdx:a,lastFrozenColumnIndex:w,column:o});if(t&&g>n&&g<t+n){g=n+(e?t:0);break}}},v=e=>e.level+a;if(f(m)&&(p(o),h<a&&(()=>{if(o){let e=t[g].parent;for(;void 0!==e;){const o=v(e);if(h===o){g=e.idx+e.colSpan;break}e=e.parent}}else if(e){let e=t[g].parent,o=!1;for(;void 0!==e;){const n=v(e);if(h>=n){g=e.idx,h=n,o=!0;break}e=e.parent}o||(g=u,h=x)}})()),"CHANGE_ROW"===n){const e=-1===g;if(g===C){h===c||(g=0,h+=1)}else if(e){h===d||(h-=1,g=C-1),p(!1)}}if(h<a){let e=t[g].parent;const o=h;for(h=a;void 0!==e;){const n=v(e);n>=o&&(h=n,g=e.idx),e=e.parent}}return{idx:g,rowIdx:h}}const E="rdg-cell cj343x07-0-0-beta-51",j="rdg-cell-frozen csofj7r7-0-0-beta-51";function D(e){return{"--rdg-grid-row-start":e}}function T(e,o,n){const t=o+1,r=`calc(${n-1} * var(--rdg-header-row-height))`;return void 0===e.parent?{insetBlockStart:0,gridRowStart:1,gridRowEnd:t,paddingBlockStart:r}:{insetBlockStart:`calc(${o-n} * var(--rdg-header-row-height))`,gridRowStart:t-n,gridRowEnd:t,paddingBlockStart:r}}function z(e,o=1){const n=e.idx+1;return{gridColumnStart:n,gridColumnEnd:n+o,insetInlineStart:e.frozen?`var(--rdg-frozen-left-${e.idx})`:void 0}}function N(e,...o){return t(E,{[j]:e.frozen},...o)}const{min:F,max:M,floor:O,sign:A,abs:L}=Math;function H(e){if("function"!=typeof e)throw new Error("Please specify the rowKeyGetter prop to use selection")}function P(e,{minWidth:o,maxWidth:n}){return e=M(e,o),"number"==typeof n&&n>=o?F(e,n):e}function K(e,o){return void 0===e.parent?o:e.level-e.parent.level}function W({onChange:o,indeterminate:n,...t}){return e.jsx("input",{ref:e=>{e&&(e.indeterminate=!0===n)},type:"checkbox",className:"rdg-checkbox-input c1bn88vv7-0-0-beta-51",onChange:function(e){o(e.target.checked,e.nativeEvent.shiftKey)},...t})}function $(e){try{return e.row[e.column.key]}catch{return null}}const G=o.createContext(void 0);function B(){return o.useContext(G)}const V=o.createContext(void 0),U=o.createContext(void 0),q=o.createContext(void 0),Y=o.createContext(void 0),X="rdg-select-column";function _({column:o,sortDirection:n,priority:t}){return o.sortable?e.jsx(Q,{sortDirection:n,priority:t,children:o.name}):o.name}function Q({sortDirection:o,priority:n,children:t}){const r=B().renderSortStatus;return e.jsxs("span",{className:"h44jtk67-0-0-beta-51",children:[e.jsx("span",{className:"rdg-header-sort-name hcgkhxz7-0-0-beta-51",children:t}),e.jsx("span",{children:r({sortDirection:o,priority:n})})]})}function J({rawColumns:e,defaultColumnOptions:n,getColumnWidth:t,viewportWidth:r,scrollLeft:l,enableVirtualization:i}){const s=(null==n?void 0:n.width)??"auto",d=(null==n?void 0:n.minWidth)??50,a=(null==n?void 0:n.maxWidth)??void 0,c=(null==n?void 0:n.renderCell)??$,u=(null==n?void 0:n.renderHeaderCell)??_,x=(null==n?void 0:n.sortable)??!1,m=(null==n?void 0:n.resizable)??!1,w=(null==n?void 0:n.draggable)??!1,{columns:f,colSpanColumns:g,lastFrozenColumnIndex:h,headerRowsCount:C}=o.useMemo((()=>{let o=-1,n=1;const t=[];!function e(r,l,i){for(const f of r){if("children"in f){const o={name:f.name,parent:i,idx:-1,colSpan:0,level:0,headerCellClass:f.headerCellClass};e(f.children,l+1,o);continue}const r=f.frozen??!1,g={...f,parent:i,idx:0,level:0,frozen:r,width:f.width??s,minWidth:f.minWidth??d,maxWidth:f.maxWidth??a,sortable:f.sortable??x,resizable:f.resizable??m,draggable:f.draggable??w,renderCell:f.renderCell??c,renderHeaderCell:f.renderHeaderCell??u};t.push(g),r&&o++,l>n&&(n=l)}}(e,1),t.sort((({key:e,frozen:o},{key:n,frozen:t})=>e===X?-1:n===X?1:o?t?0:-1:t?1:0));const r=[];return t.forEach(((e,o)=>{e.idx=o,Z(e,o,0),null!=e.colSpan&&r.push(e)})),{columns:t,colSpanColumns:r,lastFrozenColumnIndex:o,headerRowsCount:n}}),[e,s,d,a,c,u,m,x,w]),{templateColumns:p,layoutCssVars:v,totalFrozenColumnWidth:b,columnMetrics:y}=o.useMemo((()=>{const e=new Map;let o=0,n=0;const r=[];for(const i of f){let n=t(i);n="number"==typeof n?P(n,i):i.minWidth,r.push(`${n}px`),e.set(i,{width:n,left:o}),o+=n}if(-1!==h){const o=e.get(f[h]);n=o.left+o.width}const l={};for(let t=0;t<=h;t++){const o=f[t];l[`--rdg-frozen-left-${o.idx}`]=`${e.get(o).left}px`}return{templateColumns:r,layoutCssVars:l,totalFrozenColumnWidth:n,columnMetrics:e}}),[t,f,h]),[I,S]=o.useMemo((()=>{if(!i)return[0,f.length-1];const e=l+b,o=l+r,n=f.length-1,t=F(h+1,n);if(e>=o)return[t,t];let s=t;for(;s<n;){const{left:o,width:n}=y.get(f[s]);if(o+n>e)break;s++}let d=s;for(;d<n;){const{left:e,width:n}=y.get(f[d]);if(e+n>=o)break;d++}return[M(t,s-1),F(n,d+1)]}),[y,f,h,l,b,r,i]);return{columns:f,colSpanColumns:g,colOverscanStartIdx:I,colOverscanEndIdx:S,templateColumns:p,layoutCssVars:v,headerRowsCount:C,lastFrozenColumnIndex:h,totalFrozenColumnWidth:b}}function Z(e,o,n){if(n<e.level&&(e.level=n),void 0!==e.parent){const{parent:t}=e;-1===t.idx&&(t.idx=o),t.colSpan+=1,Z(t,o,n-1)}}function ee(e,o){var n;const t=`[data-measuring-cell-key="${CSS.escape(o)}"]`,r=null==(n=e.current)?void 0:n.querySelector(t);return null==r?void 0:r.getBoundingClientRect().width}function oe(e){const n=o.useRef(e);o.useEffect((()=>{n.current=e}));const t=o.useCallback(((...e)=>{n.current(...e)}),[]);return e?t:e}function ne(e){const[n,t]=o.useState(!1);n&&!e&&t(!1);return{tabIndex:e&&!n?0:-1,childTabIndex:e?0:-1,onFocus:e?function(e){e.target!==e.currentTarget&&t(!0)}:void 0}}const te="rdg-cell-copied c6ra8a37-0-0-beta-51",re="rdg-cell-dragged-over cq910m07-0-0-beta-51";const le=o.memo((function({column:o,colSpan:n,isCellSelected:t,isCopied:r,isDraggedOver:l,row:i,rowIdx:s,className:d,onClick:a,onDoubleClick:c,onContextMenu:u,onRowChange:x,selectCell:m,style:w,...f}){const{tabIndex:g,childTabIndex:h,onFocus:C}=ne(t),{cellClass:p}=o;d=N(o,{[te]:r,[re]:l},"function"==typeof p?p(i):p,d);const b=S(o,i);function y(e){m({rowIdx:s,idx:o.idx},e)}return e.jsx("div",{role:"gridcell","aria-colindex":o.idx+1,"aria-colspan":n,"aria-selected":t,"aria-readonly":!b||void 0,tabIndex:g,className:d,style:{...z(o,n),...w},onClick:function(e){if(a){const n=v(e);if(a({rowIdx:s,row:i,column:o,selectCell:y},n),n.isGridDefaultPrevented())return}y()},onDoubleClick:function(e){if(c){const n=v(e);if(c({rowIdx:s,row:i,column:o,selectCell:y},n),n.isGridDefaultPrevented())return}y(!0)},onContextMenu:function(e){if(u){const n=v(e);if(u({rowIdx:s,row:i,column:o,selectCell:y},n),n.isGridDefaultPrevented())return}y()},onFocus:C,...f,children:o.renderCell({column:o,row:i,rowIdx:s,isCellEditable:b,tabIndex:h,onRowChange:function(e){x(o,e)}})})}));function ie(o,n){return e.jsx(le,{...n},o)}function se({gridRowStart:o,rows:n,column:r,columnWidth:l,maxColIdx:i,isLastRow:s,selectedPosition:d,latestDraggedOverRowIdx:a,isCellEditable:c,onRowsChange:u,onFill:x,onClick:m,setDragging:w,setDraggedOverRowIdx:f}){const{idx:g,rowIdx:h}=d;function C(e,o){const t=n[h],l=[...n],i=[];for(let s=e;s<o;s++)if(c({rowIdx:s,idx:g})){const e=x({columnKey:r.key,sourceRow:t,targetRow:n[s]});e!==n[s]&&(l[s]=e,i.push(s))}i.length>0&&(null==u||u(l,{indexes:i,column:r}))}return e.jsx("div",{style:function(){var e;const t=(null==(e=r.colSpan)?void 0:e.call(r,{type:"ROW",row:n[h]}))??1,{insetInlineStart:d,...a}=z(r,t),c="calc(var(--rdg-drag-handle-size) * -0.5 + 1px)",u=r.idx+t-1===i;return{...a,gridRowStart:o,marginInlineEnd:u?void 0:c,marginBlockEnd:s?void 0:c,insetInlineStart:d?`calc(${d} + ${l}px + var(--rdg-drag-handle-size) * -0.5 - 1px)`:void 0}}(),className:t("rdg-cell-drag-handle c1w9bbhr7-0-0-beta-51",r.frozen&&"c1creorc7-0-0-beta-51"),onClick:m,onMouseDown:function(e){function o(e){1!==e.buttons&&n()}function n(){window.removeEventListener("mouseover",o),window.removeEventListener("mouseup",n),w(!1),function(){const e=a.current;if(void 0===e)return;C(h<e?h+1:e,h<e?e+1:h),f(void 0)}()}e.preventDefault(),1===e.buttons&&(w(!0),window.addEventListener("mouseover",o),window.addEventListener("mouseup",n))},onDoubleClick:function(e){e.stopPropagation(),C(h+1,n.length)}})}function de({column:n,colSpan:t,row:r,rowIdx:l,onRowChange:i,closeEditor:s,onKeyDown:d,navigate:a}){var c,u,x;const m=o.useRef(void 0),w=!1!==(null==(c=n.editorOptions)?void 0:c.commitOnOutsideClick),f=oe((()=>{h(!0,!1)}));function g(){cancelAnimationFrame(m.current)}function h(e=!1,o=!0){e?i(r,!0,o):s(o)}function C(e,o=!1){i(e,o,o)}o.useEffect((()=>{if(w)return addEventListener("mousedown",e,{capture:!0}),()=>{removeEventListener("mousedown",e,{capture:!0}),g()};function e(){m.current=requestAnimationFrame(f)}}),[w,f]);const{cellClass:p}=n,b=N(n,"rdg-editor-container",!(null==(u=n.editorOptions)?void 0:u.displayCellContent)&&"cis5rrm7-0-0-beta-51","function"==typeof p?p(r):p);return e.jsx("div",{role:"gridcell","aria-colindex":n.idx+1,"aria-colspan":t,"aria-selected":!0,className:b,style:z(n,t),onKeyDown:function(e){if(d){const o=v(e);if(d({mode:"EDIT",row:r,column:n,rowIdx:l,navigate(){a(e)},onClose:h},o),o.isGridDefaultPrevented())return}"Escape"===e.key?h():"Enter"===e.key?h(!0):function({key:e,target:o}){var n;return"Tab"===e&&(o instanceof HTMLInputElement||o instanceof HTMLTextAreaElement||o instanceof HTMLSelectElement)&&1===(null==(n=o.closest(".rdg-editor-container"))?void 0:n.querySelectorAll("input, textarea, select").length)}(e)&&a(e)},onMouseDownCapture:g,children:null!=n.renderEditCell&&e.jsxs(e.Fragment,{children:[n.renderEditCell({column:n,row:r,rowIdx:l,onRowChange:C,onClose:h}),(null==(x=n.editorOptions)?void 0:x.displayCellContent)&&n.renderCell({column:n,row:r,rowIdx:l,isCellEditable:!0,tabIndex:-1,onRowChange:C})]})})}function ae({column:o,rowIdx:n,isCellSelected:r,selectCell:l}){const{tabIndex:i,onFocus:s}=ne(r),{colSpan:d}=o,a=K(o,n),c=o.idx+1;return e.jsx("div",{role:"columnheader","aria-colindex":c,"aria-colspan":d,"aria-rowspan":a,"aria-selected":r,tabIndex:i,className:t(E,o.headerCellClass),style:{...T(o,n,a),gridColumnStart:c,gridColumnEnd:c+d},onFocus:s,onClick:function(){l({idx:o.idx,rowIdx:n})},children:o.name})}const ce="c6l2wv17-0-0-beta-51",ue="rdg-cell-resizable c1kqdw7y7-0-0-beta-51",xe="rdg-cell-draggable",me="rdg-cell-dragging c1bezg5o7-0-0-beta-51",we="rdg-cell-drag-over c1vc96037-0-0-beta-51";function fe({column:n,colSpan:t,rowIdx:r,isCellSelected:l,onColumnResize:i,onColumnsReorder:s,sortColumns:d,onSortColumnsChange:a,selectCell:c,shouldFocusGrid:u,direction:x,dragDropKey:m}){const w=o.useRef(!1),[f,g]=o.useState(!1),[h,p]=o.useState(!1),v="rtl"===x,b=K(n,r),{tabIndex:y,childTabIndex:I,onFocus:S}=ne(l),R=null==d?void 0:d.findIndex((e=>e.columnKey===n.key)),k=void 0!==R&&R>-1?d[R]:void 0,E=null==k?void 0:k.direction,j=void 0!==k&&d.length>1?R+1:void 0,D=E&&!j?"ASC"===E?"ascending":"descending":void 0,{sortable:F,resizable:M,draggable:O}=n,A=N(n,n.headerCellClass,{[ce]:F,[ue]:M,[xe]:O,[me]:f,[we]:h});function L(e){if(null==a)return;const{sortDescendingFirst:o}=n;if(void 0===k){const t={columnKey:n.key,direction:o?"DESC":"ASC"};a(d&&e?[...d,t]:[t])}else{let t;if((!0===o&&"DESC"===E||!0!==o&&"ASC"===E)&&(t={columnKey:n.key,direction:"ASC"===E?"DESC":"ASC"}),e){const e=[...d];t?e[R]=t:e.splice(R,1),a(e)}else a(t?[t]:[])}}let H;return O&&(H={draggable:!0,onDragStart:function(e){e.dataTransfer.setData(m,n.key),e.dataTransfer.dropEffect="move",g(!0)},onDragEnd:function(){g(!1)},onDragOver:function(e){e.preventDefault(),e.dataTransfer.dropEffect="move"},onDragEnter:function(e){ge(e)&&p(!0)},onDragLeave:function(e){ge(e)&&p(!1)},onDrop:function(e){if(p(!1),e.dataTransfer.types.includes(m.toLowerCase())){const o=e.dataTransfer.getData(m.toLowerCase());o!==n.key&&(e.preventDefault(),null==s||s(o,n.key))}}}),e.jsxs("div",{role:"columnheader","aria-colindex":n.idx+1,"aria-colspan":t,"aria-rowspan":b,"aria-selected":l,"aria-sort":D,tabIndex:u?0:y,className:A,style:{...T(n,r,b),...z(n,t)},onFocus:function(e){null==S||S(e),u&&c({idx:0,rowIdx:r})},onClick:function(e){c({idx:n.idx,rowIdx:r}),F&&L(e.ctrlKey||e.metaKey)},onKeyDown:F?function(e){" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),L(e.ctrlKey||e.metaKey))}:void 0,...H,children:[n.renderHeaderCell({column:n,sortDirection:E,priority:j,tabIndex:I}),M&&e.jsx("div",{className:"r1y6ywlx7-0-0-beta-51",onClick:C,onPointerDown:function(e){if("mouse"===e.pointerType&&1!==e.buttons)return;e.preventDefault();const{currentTarget:o,pointerId:t}=e,r=o.parentElement,{right:l,left:s}=r.getBoundingClientRect(),d=v?e.clientX-s:l-e.clientX;function a(e){const{width:o,right:t,left:l}=r.getBoundingClientRect();let s=v?t+d-e.clientX:e.clientX+d-l;s=P(s,n),o>0&&s!==o&&i(n,s)}w.current=!1,o.setPointerCapture(t),o.addEventListener("pointermove",a),o.addEventListener("lostpointercapture",(function e(n){w.current||a(n),o.removeEventListener("pointermove",a),o.removeEventListener("lostpointercapture",e)}))},onDoubleClick:function(){w.current=!0,i(n,"max-content")}})]})}function ge(e){const o=e.relatedTarget;return!e.currentTarget.contains(o)}const he="rdg-row r1upfr807-0-0-beta-51",Ce="r190mhd37-0-0-beta-51",pe="rdg-row-selected",ve="r139qu9m7-0-0-beta-51",be="rdg-bottom-summary-row",ye="rdg-header-row h10tskcx7-0-0-beta-51";var Ie=o.memo((function({rowIdx:n,columns:r,onColumnResize:l,onColumnsReorder:i,sortColumns:s,onSortColumnsChange:d,lastFrozenColumnIndex:a,selectedCellIdx:c,selectCell:u,shouldFocusGrid:x,direction:m}){const w=o.useId(),f=[];for(let o=0;o<r.length;o++){const t=r[o],g=h(t,a,{type:"HEADER"});void 0!==g&&(o+=g-1),f.push(e.jsx(fe,{column:t,colSpan:g,rowIdx:n,isCellSelected:c===t.idx,onColumnResize:l,onColumnsReorder:i,onSortColumnsChange:d,sortColumns:s,selectCell:u,shouldFocusGrid:x&&0===o,direction:m,dragDropKey:w},t.key))}return e.jsx("div",{role:"row","aria-rowindex":n,className:t(ye,{[pe]:-1===c}),children:f})}));var Se=o.memo((function({rowIdx:o,level:n,columns:t,selectedCellIdx:r,selectCell:l}){const i=[],s=new Set;for(const d of t){let{parent:t}=d;if(void 0!==t){for(;t.level>n&&void 0!==t.parent;)t=t.parent;if(t.level===n&&!s.has(t)){s.add(t);const{idx:n}=t;i.push(e.jsx(ae,{column:t,rowIdx:o,isCellSelected:r===n,selectCell:l},n))}}}return e.jsx("div",{role:"row","aria-rowindex":o,className:ye,children:i})}));const Re=o.memo((function({className:n,rowIdx:r,gridRowStart:l,selectedCellIdx:i,isRowSelectionDisabled:s,isRowSelected:d,copiedCellIdx:a,draggedOverCellIdx:c,lastFrozenColumnIndex:u,row:x,viewportColumns:m,selectedCellEditor:w,onCellClick:f,onCellDoubleClick:g,onCellContextMenu:C,rowClass:p,setDraggedOverRowIdx:v,onMouseEnter:b,onRowChange:y,selectCell:I,...S}){const R=B().renderCell,k=oe(((e,o)=>{y(e,r,o)}));n=t(he,"rdg-row-"+(r%2==0?"even":"odd"),{[pe]:-1===i},null==p?void 0:p(x,r),n);const E=[];for(let e=0;e<m.length;e++){const o=m[e],{idx:n}=o,t=h(o,u,{type:"ROW",row:x});void 0!==t&&(e+=t-1);const l=i===n;l&&w?E.push(w):E.push(R(o.key,{column:o,colSpan:t,row:x,rowIdx:r,isCopied:a===n,isDraggedOver:c===n,isCellSelected:l,onClick:f,onDoubleClick:g,onContextMenu:C,onRowChange:k,selectCell:I}))}const j=o.useMemo((()=>({isRowSelected:d,isRowSelectionDisabled:s})),[s,d]);return e.jsx(V,{value:j,children:e.jsx("div",{role:"row",className:n,onMouseEnter:function(e){null==v||v(r),null==b||b(e)},style:D(l),...S,children:E})})}));function ke(o,n){return e.jsx(Re,{...n},o)}function Ee({scrollToPosition:{idx:n,rowIdx:t},gridRef:r,setScrollToCellPosition:l}){const i=o.useRef(null);return o.useLayoutEffect((()=>{p(i.current)})),o.useLayoutEffect((()=>{const e=new IntersectionObserver((function(){l(null)}),{root:r.current,threshold:1});return e.observe(i.current),()=>{e.disconnect()}}),[r,l]),e.jsx("div",{ref:i,style:{gridColumn:void 0===n?"1/-1":n+1,gridRow:void 0===t?"1/-1":t+2}})}function je({sortDirection:o,priority:n}){return e.jsxs(e.Fragment,{children:[De({sortDirection:o}),Te({priority:n})]})}function De({sortDirection:o}){return void 0===o?null:e.jsx("svg",{viewBox:"0 0 12 8",width:"12",height:"8",className:"rdg-sort-arrow a3ejtar7-0-0-beta-51","aria-hidden":!0,children:e.jsx("path",{d:"ASC"===o?"M0 8 6 0 12 8":"M0 0 6 8 12 0"})})}function Te({priority:e}){return e}const ze="rdg-viewport-dragging vlqv91k7-0-0-beta-51",Ne="f1cte0lg7-0-0-beta-51";var Fe=o.memo((function({column:o,colSpan:n,row:t,rowIdx:r,isCellSelected:l,selectCell:i}){var s;const{tabIndex:d,childTabIndex:a,onFocus:c}=ne(l),{summaryCellClass:u}=o,x=N(o,"s8wc6fl7-0-0-beta-51","function"==typeof u?u(t):u);return e.jsx("div",{role:"gridcell","aria-colindex":o.idx+1,"aria-colspan":n,"aria-selected":l,tabIndex:d,className:x,style:z(o,n),onClick:function(){i({rowIdx:r,idx:o.idx})},onFocus:c,children:null==(s=o.renderSummaryCell)?void 0:s.call(o,{column:o,row:t,tabIndex:a})})}));var Me=o.memo((function({rowIdx:o,gridRowStart:n,row:r,viewportColumns:l,top:i,bottom:s,lastFrozenColumnIndex:d,selectedCellIdx:a,isTop:c,selectCell:u,"aria-rowindex":x}){const m=[];for(let t=0;t<l.length;t++){const n=l[t],i=h(n,d,{type:"SUMMARY",row:r});void 0!==i&&(t+=i-1);const s=a===n.idx;m.push(e.jsx(Fe,{column:n,colSpan:i,row:r,rowIdx:o,isCellSelected:s,selectCell:u},n.key))}return e.jsx("div",{role:"row","aria-rowindex":x,className:t(he,"rdg-row-"+(o%2==0?"even":"odd"),"rdg-summary-row skuhp557-0-0-beta-51",{[pe]:-1===a,"rdg-top-summary-row tf8l5ub7-0-0-beta-51":c,[be]:!c}),style:{...D(n),"--rdg-summary-row-top":void 0!==i?`${i}px`:void 0,"--rdg-summary-row-bottom":void 0!==s?`${s}px`:void 0},children:m})}));function Oe(r){const{ref:l,columns:i,rows:s,topSummaryRows:d,bottomSummaryRows:a,rowKeyGetter:c,onRowsChange:u,rowHeight:x,headerRowHeight:m,summaryRowHeight:w,selectedRows:f,isRowSelectionDisabled:g,onSelectedRowsChange:C,sortColumns:R,onSortColumnsChange:E,defaultColumnOptions:j,onCellClick:D,onCellDoubleClick:T,onCellContextMenu:z,onCellKeyDown:N,onSelectedCellChange:P,onScroll:K,onColumnResize:$,onColumnsReorder:V,onFill:X,onCopy:_,onPaste:Q,enableVirtualization:Z,renderers:ne,className:te,style:re,rowClass:le,direction:ae,role:ce,"aria-label":ue,"aria-labelledby":xe,"aria-description":me,"aria-describedby":we,"aria-rowcount":fe,"data-testid":ge,"data-cy":he}=r,pe=B(),be=ce??"grid",ye=x??35,Re=m??("number"==typeof ye?ye:35),De=w??("number"==typeof ye?ye:35),Te=(null==ne?void 0:ne.renderRow)??(null==pe?void 0:pe.renderRow)??ke,Fe=(null==ne?void 0:ne.renderCell)??(null==pe?void 0:pe.renderCell)??ie,Oe=(null==ne?void 0:ne.renderSortStatus)??(null==pe?void 0:pe.renderSortStatus)??je,He=(null==ne?void 0:ne.renderCheckbox)??(null==pe?void 0:pe.renderCheckbox)??W,Pe=(null==ne?void 0:ne.noRowsFallback)??(null==pe?void 0:pe.noRowsFallback),Ke=Z??!0,We=ae??"ltr",[$e,Ge]=o.useState(0),[Be,Ve]=o.useState(0),[Ue,qe]=o.useState((()=>new Map)),[Ye,Xe]=o.useState((()=>new Map)),[_e,Qe]=o.useState(null),[Je,Ze]=o.useState(!1),[eo,oo]=o.useState(void 0),[no,to]=o.useState(null),[ro,lo]=o.useState(!1),[io,so]=o.useState(-1),ao=o.useCallback((e=>Ue.get(e.key)??Ye.get(e.key)??e.width),[Ye,Ue]),[co,uo,xo,mo]=function(){const e=o.useRef(null),[t,r]=o.useState(1),[l,i]=o.useState(1),[s,d]=o.useState(0);return o.useLayoutEffect((()=>{const{ResizeObserver:o}=window;if(null==o)return;const{clientWidth:t,clientHeight:l,offsetWidth:s,offsetHeight:a}=e.current,{width:c,height:u}=e.current.getBoundingClientRect(),x=a-l,m=u-x;r(c-s+t),i(m),d(x);const w=new o((o=>{const t=o[0].contentBoxSize[0],{clientHeight:l,offsetHeight:s}=e.current;n.flushSync((()=>{r(t.inlineSize),i(t.blockSize),d(s-l)}))}));return w.observe(e.current),()=>{w.disconnect()}}),[]),[e,t,l,s]}(),{columns:wo,colSpanColumns:fo,lastFrozenColumnIndex:go,headerRowsCount:ho,colOverscanStartIdx:Co,colOverscanEndIdx:po,templateColumns:vo,layoutCssVars:bo,totalFrozenColumnWidth:yo}=J({rawColumns:i,defaultColumnOptions:j,getColumnWidth:ao,scrollLeft:Be,viewportWidth:uo,enableVirtualization:Ke}),Io=(null==d?void 0:d.length)??0,So=(null==a?void 0:a.length)??0,Ro=Io+So,ko=ho+Io,Eo=ho-1,jo=-ko,Do=jo+Eo,To=s.length+So-1,[zo,No]=o.useState((()=>({idx:-1,rowIdx:jo-1,mode:"SELECT"}))),Fo=o.useRef(eo),Mo=o.useRef(null),Oo="treegrid"===be,Ao=ho*Re,Lo=Ro*De,Ho=xo-Ao-Lo,Po=null!=f&&null!=C,Ko="rtl"===We,Wo=Ko?"ArrowRight":"ArrowLeft",$o=Ko?"ArrowLeft":"ArrowRight",Go=fe??ho+s.length+Ro,Bo=o.useMemo((()=>({renderCheckbox:He,renderSortStatus:Oe,renderCell:Fe})),[He,Oe,Fe]),Vo=o.useMemo((()=>{let e=!1,o=!1;if(null!=c&&null!=f&&f.size>0)for(const n of s)if(f.has(c(n))?e=!0:o=!0,e&&o)break;return{isRowSelected:e&&!o,isIndeterminate:e&&o}}),[s,f,c]),{rowOverscanStartIdx:Uo,rowOverscanEndIdx:qo,totalRowHeight:Yo,gridTemplateRows:Xo,getRowTop:_o,getRowHeight:Qo,findRowIdx:Jo}=function({rows:e,rowHeight:n,clientHeight:t,scrollTop:r,enableVirtualization:l}){const{totalRowHeight:i,gridTemplateRows:s,getRowTop:d,getRowHeight:a,findRowIdx:c}=o.useMemo((()=>{if("number"==typeof n)return{totalRowHeight:n*e.length,gridTemplateRows:` repeat(${e.length}, ${n}px)`,getRowTop:e=>e*n,getRowHeight:()=>n,findRowIdx:e=>O(e/n)};let o=0,t=" ";const r=e.map((e=>{const r=n(e),l={top:o,height:r};return t+=`${r}px `,o+=r,l})),l=o=>M(0,F(e.length-1,o));return{totalRowHeight:o,gridTemplateRows:t,getRowTop:e=>r[l(e)].top,getRowHeight:e=>r[l(e)].height,findRowIdx(e){let o=0,n=r.length-1;for(;o<=n;){const t=o+O((n-o)/2),l=r[t].top;if(l===e)return t;if(l<e?o=t+1:l>e&&(n=t-1),o>n)return n}return 0}}}),[n,e]);let u=0,x=e.length-1;if(l){const o=4,n=c(r),l=c(r+t);u=M(0,n-o),x=F(e.length-1,l+o)}return{rowOverscanStartIdx:u,rowOverscanEndIdx:x,totalRowHeight:i,gridTemplateRows:s,getRowTop:d,getRowHeight:a,findRowIdx:c}}({rows:s,rowHeight:ye,clientHeight:Ho,scrollTop:$e,enableVirtualization:Ke}),Zo=function({columns:e,colSpanColumns:n,rows:t,topSummaryRows:r,bottomSummaryRows:l,colOverscanStartIdx:i,colOverscanEndIdx:s,lastFrozenColumnIndex:d,rowOverscanStartIdx:a,rowOverscanEndIdx:c}){const u=o.useMemo((()=>{if(0===i)return 0;let e=i;const o=(o,n)=>void 0!==n&&o+n>i&&(e=o,!0);for(const i of n){const n=i.idx;if(n>=e)break;if(o(n,h(i,d,{type:"HEADER"})))break;for(let e=a;e<=c;e++){const r=t[e];if(o(n,h(i,d,{type:"ROW",row:r})))break}if(null!=r)for(const e of r)if(o(n,h(i,d,{type:"SUMMARY",row:e})))break;if(null!=l)for(const e of l)if(o(n,h(i,d,{type:"SUMMARY",row:e})))break}return e}),[a,c,t,r,l,i,d,n]);return o.useMemo((()=>{const o=[];for(let n=0;n<=s;n++){const t=e[n];n<u&&!t.frozen||o.push(t)}return o}),[u,s,e])}({columns:wo,colSpanColumns:fo,colOverscanStartIdx:Co,colOverscanEndIdx:po,lastFrozenColumnIndex:go,rowOverscanStartIdx:Uo,rowOverscanEndIdx:qo,rows:s,topSummaryRows:d,bottomSummaryRows:a}),{gridTemplateColumns:en,handleColumnResize:on}=function(e,t,r,l,i,s,d,a,c,u){const x=o.useRef(i),m=e.length===t.length,w=m&&i!==x.current,f=[...r],g=[];for(const{key:o,idx:n,width:p}of t)"string"!=typeof p||!w&&d.has(o)||s.has(o)||(f[n]=p,g.push(o));const h=f.join(" ");function C(e){0!==e.length&&c((o=>{const n=new Map(o);let t=!1;for(const r of e){const e=ee(l,r);t||(t=e!==o.get(r)),void 0===e?n.delete(r):n.set(r,e)}return t?n:o}))}return o.useLayoutEffect((()=>{x.current=i,C(g)})),{gridTemplateColumns:h,handleColumnResize:function(e,o){const{key:i}=e,d=[...r],c=[];for(const{key:n,idx:r,width:l}of t)if(i===n){const e="number"==typeof o?`${o}px`:o;d[r]=e}else m&&"string"==typeof l&&!s.has(n)&&(d[r]=l,c.push(n));l.current.style.gridTemplateColumns=d.join(" ");const x="number"==typeof o?o:ee(l,i);n.flushSync((()=>{a((e=>{const o=new Map(e);return o.set(i,x),o})),C(c)})),null==u||u(e,x)}}}(wo,Zo,vo,co,uo,Ue,Ye,qe,Xe,$),nn=Oo?-1:0,tn=wo.length-1,rn=kn(zo),ln=En(zo),sn=Re+Yo+Lo+mo,dn=oe(on),an=oe(V),cn=oe(E),un=oe(D),xn=oe(T),mn=oe(z),wn=oe((function(e){if(!C)return;H(c);const o=new Set(f);for(const n of s){if(!0===(null==g?void 0:g(n)))continue;const t=c(n);e.checked?o.add(t):o.delete(t)}C(o)})),fn=oe(bn),gn=oe(yn),hn=oe(Dn),Cn=oe((({idx:e,rowIdx:o})=>{Dn({rowIdx:jo+o-1,idx:e})})),pn=o.useCallback((e=>{oo(e),Fo.current=e}),[]),vn=o.useCallback((()=>{const e=Ae(co.current);if(null===e)return;p(e);(e.querySelector('[tabindex="0"]')??e).focus({preventScroll:!0})}),[co]);function bn(e){if(!C)return;H(c);const{row:o,checked:n,isShiftClick:t}=e;if(!0===(null==g?void 0:g(o)))return;const r=new Set(f),l=c(o),i=s.indexOf(o);if(so(i),n?r.add(l):r.delete(l),t&&-1!==io&&io!==i&&io<s.length){const e=A(i-io);for(let o=io+e;o!==i;o+=e){const e=s[o];!0!==(null==g?void 0:g(e))&&(n?r.add(c(e)):r.delete(c(e)))}}C(r)}function yn(e,o,n){if("function"!=typeof u)return;if(n===s[o])return;const t=[...s];t[o]=n,u(t,{indexes:[o],column:e})}function In(){"EDIT"===zo.mode&&yn(wo[zo.idx],zo.rowIdx,zo.row)}function Sn(e){return e>=nn&&e<=tn}function Rn(e){return e>=0&&e<s.length}function kn({idx:e,rowIdx:o}){return o>=jo&&o<=To&&Sn(e)}function En({idx:e,rowIdx:o}){return Rn(o)&&Sn(e)}function jn(e){return function({idx:e,rowIdx:o}){return Rn(o)&&e>=0&&e<=tn}(e)&&function({selectedPosition:e,columns:o,rows:n}){return S(o[e.idx],n[e.rowIdx])}({columns:wo,rows:s,selectedPosition:e})}function Dn(e,o){if(!kn(e))return;In();const n=Le(zo,e);if(o&&jn(e)){const o=s[e.rowIdx];No({...e,mode:"EDIT",row:o,originalRow:o})}else n?p(Ae(co.current)):(lo(!0),No({...e,mode:"SELECT"}));P&&!n&&P({rowIdx:e.rowIdx,row:Rn(e.rowIdx)?s[e.rowIdx]:void 0,column:wo[e.idx]})}function Tn(e){const{key:o,shiftKey:n}=e;let t="NONE";if("Tab"===o){if(function({maxColIdx:e,minRowIdx:o,maxRowIdx:n,selectedPosition:{rowIdx:t,idx:r},shiftKey:l}){return l?0===r&&t===o:r===e&&t===n}({shiftKey:n,maxColIdx:tn,minRowIdx:jo,maxRowIdx:To,selectedPosition:zo}))return void In();t="CHANGE_ROW"}e.preventDefault();const r=function(e,o,n){const{idx:t,rowIdx:r}=zo,l=rn&&-1===t;switch(e){case"ArrowUp":return{idx:t,rowIdx:r-1};case"ArrowDown":return{idx:t,rowIdx:r+1};case Wo:return{idx:t-1,rowIdx:r};case $o:return{idx:t+1,rowIdx:r};case"Tab":return{idx:t+(n?-1:1),rowIdx:r};case"Home":return l?{idx:t,rowIdx:jo}:{idx:0,rowIdx:o?jo:r};case"End":return l?{idx:t,rowIdx:To}:{idx:tn,rowIdx:o?To:r};case"PageUp":{if(zo.rowIdx===jo)return zo;const e=_o(r)+Qo(r)-Ho;return{idx:t,rowIdx:e>0?Jo(e):0}}case"PageDown":{if(zo.rowIdx>=s.length)return zo;const e=_o(r)+Ho;return{idx:t,rowIdx:e<Yo?Jo(e):s.length-1}}default:return zo}}(o,y(e),n);if(Le(zo,r))return;Dn(k({moveUp:"ArrowUp"===o,moveNext:o===$o||"Tab"===o&&!n,columns:wo,colSpanColumns:fo,rows:s,topSummaryRows:d,bottomSummaryRows:a,minRowIdx:jo,mainHeaderRowIdx:Do,maxRowIdx:To,lastFrozenColumnIndex:go,cellNavigationMode:t,currentPosition:zo,nextPosition:r,isCellWithinBounds:kn}))}function zn(e){if(void 0===eo)return;const{rowIdx:o}=zo;return(o<eo?o<e&&e<=eo:o>e&&e>=eo)?zo.idx:void 0}function Nn(o){if(zo.rowIdx!==o||"SELECT"===zo.mode)return;const{idx:t,row:r}=zo,l=wo[t],i=h(l,go,{type:"ROW",row:r}),d=e=>{lo(e),No((({idx:e,rowIdx:o})=>({idx:e,rowIdx:o,mode:"SELECT"})))};return s[zo.rowIdx]!==zo.originalRow&&d(!1),e.jsx(de,{column:l,colSpan:i,row:r,rowIdx:o,onRowChange:(e,o,t)=>{o?n.flushSync((()=>{yn(l,zo.rowIdx,e),d(t)})):No((o=>({...o,row:e})))},closeEditor:d,onKeyDown:N,navigate:Tn},l.key)}function Fn(e){const o=-1===zo.idx?void 0:wo[zo.idx];return void 0===o||zo.rowIdx!==e||Zo.includes(o)?Zo:zo.idx>po?[...Zo,o]:[...Zo.slice(0,go+1),o,...Zo.slice(go+1)]}o.useLayoutEffect((()=>{null!==Mo.current&&rn&&-1===zo.idx&&(Mo.current.focus({preventScroll:!0}),p(Mo.current))}),[rn,zo]),o.useLayoutEffect((()=>{ro&&(lo(!1),vn())}),[ro,vn]),o.useImperativeHandle(l,(()=>({element:co.current,scrollToCell({idx:e,rowIdx:o}){const n=void 0!==e&&e>go&&e<wo.length?e:void 0,t=void 0!==o&&Rn(o)?o:void 0;void 0===n&&void 0===t||to({idx:n,rowIdx:t})},selectCell:Dn}))),(zo.idx>tn||zo.rowIdx>To)&&(No({idx:-1,rowIdx:jo-1,mode:"SELECT"}),pn(void 0));let Mn=`repeat(${ho}, ${Re}px)`;Io>0&&(Mn+=` repeat(${Io}, ${De}px)`),s.length>0&&(Mn+=Xo),So>0&&(Mn+=` repeat(${So}, ${De}px)`);const On=-1===zo.idx&&zo.rowIdx!==jo-1;return e.jsxs("div",{role:be,"aria-label":ue,"aria-labelledby":xe,"aria-description":me,"aria-describedby":we,"aria-multiselectable":!!Po||void 0,"aria-colcount":wo.length,"aria-rowcount":Go,className:t("rdg rnvodz57-0-0-beta-51",{[ze]:Je},te),style:{...re,scrollPaddingInlineStart:zo.idx>go||void 0!==(null==no?void 0:no.idx)?`${yo}px`:void 0,scrollPaddingBlock:Rn(zo.rowIdx)||void 0!==(null==no?void 0:no.rowIdx)?`${Ao+Io*De}px ${So*De}px`:void 0,gridTemplateColumns:en,gridTemplateRows:Mn,"--rdg-header-row-height":`${Re}px`,"--rdg-scroll-height":`${sn}px`,...bo},dir:We,ref:co,onScroll:function(e){const{scrollTop:o,scrollLeft:t}=e.currentTarget;n.flushSync((()=>{Ge(o),Ve(L(t))})),null==K||K(e)},onKeyDown:function(e){var o;const{idx:n,rowIdx:t,mode:r}=zo;if("EDIT"===r)return;if(N&&Rn(t)){const o=s[t],r=v(e);if(N({mode:"SELECT",row:o,column:wo[n],rowIdx:t,selectCell:Dn},r),r.isGridDefaultPrevented())return}if(!(e.target instanceof Element))return;const l=null!==e.target.closest(".rdg-cell"),i=Oo&&e.target===Mo.current;if(!l&&!i)return;const{keyCode:d}=e;if(ln&&(null!=Q||null!=_)&&y(e)){const e=86;if(d===67){if(!1===(null==(o=window.getSelection())?void 0:o.isCollapsed))return;return void function(){const{idx:e,rowIdx:o}=zo,n=s[o],t=wo[e].key;Qe({row:n,columnKey:t}),null==_||_({sourceRow:n,sourceColumnKey:t})}()}if(d===e)return void function(){if(!Q||!u||null===_e||!jn(zo))return;const{idx:e,rowIdx:o}=zo,n=wo[e],t=s[o],r=Q({sourceRow:_e.row,sourceColumnKey:_e.columnKey,targetRow:t,targetColumnKey:n.key});yn(n,o,r)}()}switch(e.key){case"Escape":return void Qe(null);case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"Tab":case"Home":case"End":case"PageUp":case"PageDown":Tn(e);break;default:!function(e){if(!ln)return;const o=s[zo.rowIdx],{key:n,shiftKey:t}=e;if(Po&&t&&" "===n){H(c);const n=c(o);return bn({row:o,checked:!f.has(n),isShiftClick:!1}),void e.preventDefault()}jn(zo)&&function(e){return!(y(e)&&86!==e.keyCode||b.has(e.key))}(e)&&No((({idx:e,rowIdx:n})=>({idx:e,rowIdx:n,mode:"EDIT",row:o,originalRow:o})))}(e)}},"data-testid":ge,"data-cy":he,children:[e.jsxs(G,{value:Bo,children:[e.jsx(Y,{value:wn,children:e.jsxs(q,{value:Vo,children:[Array.from({length:Eo},((o,n)=>e.jsx(Se,{rowIdx:n+1,level:-Eo+n,columns:Fn(jo+n),selectedCellIdx:zo.rowIdx===jo+n?zo.idx:void 0,selectCell:Cn},n))),e.jsx(Ie,{rowIdx:ho,columns:Fn(Do),onColumnResize:dn,onColumnsReorder:an,sortColumns:R,onSortColumnsChange:cn,lastFrozenColumnIndex:go,selectedCellIdx:zo.rowIdx===Do?zo.idx:void 0,selectCell:Cn,shouldFocusGrid:!rn,direction:We})]})}),0===s.length&&Pe?Pe:e.jsxs(e.Fragment,{children:[null==d?void 0:d.map(((o,n)=>{const t=ho+1+n,r=Do+1+n,l=zo.rowIdx===r,i=Ao+De*n;return e.jsx(Me,{"aria-rowindex":t,rowIdx:r,gridRowStart:t,row:o,top:i,bottom:void 0,viewportColumns:Fn(r),lastFrozenColumnIndex:go,selectedCellIdx:l?zo.idx:void 0,isTop:!0,selectCell:hn},n)})),e.jsx(U,{value:fn,children:function(){const e=[],{idx:o,rowIdx:n}=zo,t=ln&&n>qo?qo+1:qo;for(let r=ln&&n<Uo?Uo-1:Uo;r<=t;r++){const t=r===Uo-1||r===qo+1,l=t?n:r;let i=Zo;const d=-1===o?void 0:wo[o];void 0!==d&&(i=t?[d]:Fn(l));const a=s[l],u=ko+l+1;let x=l,m=!1;"function"==typeof c&&(x=c(a),m=(null==f?void 0:f.has(x))??!1),e.push(Te(x,{"aria-rowindex":ko+l+1,"aria-selected":Po?m:void 0,rowIdx:l,row:a,viewportColumns:i,isRowSelectionDisabled:(null==g?void 0:g(a))??!1,isRowSelected:m,onCellClick:un,onCellDoubleClick:xn,onCellContextMenu:mn,rowClass:le,gridRowStart:u,copiedCellIdx:null!==_e&&_e.row===a?wo.findIndex((e=>e.key===_e.columnKey)):void 0,selectedCellIdx:n===l?o:void 0,draggedOverCellIdx:zn(l),setDraggedOverRowIdx:Je?pn:void 0,lastFrozenColumnIndex:go,onRowChange:gn,selectCell:hn,selectedCellEditor:Nn(l)}))}return e}()}),null==a?void 0:a.map(((o,n)=>{const t=ko+s.length+n+1,r=s.length+n,l=zo.rowIdx===r,i=Ho>Yo?xo-De*(a.length-n):void 0,d=void 0===i?De*(a.length-1-n):void 0;return e.jsx(Me,{"aria-rowindex":Go-So+n+1,rowIdx:r,gridRowStart:t,row:o,top:i,bottom:d,viewportColumns:Fn(r),lastFrozenColumnIndex:go,selectedCellIdx:l?zo.idx:void 0,isTop:!1,selectCell:hn},n)}))]})]}),function(){if(null==X||"EDIT"===zo.mode||!En(zo))return;const{idx:o,rowIdx:n}=zo,t=wo[o];if(null==t.renderEditCell||!1===t.editable)return;const r=ao(t);return e.jsx(se,{gridRowStart:ko+n+1,rows:s,column:t,columnWidth:r,maxColIdx:tn,isLastRow:n===To,selectedPosition:zo,isCellEditable:jn,latestDraggedOverRowIdx:Fo,onRowsChange:u,onClick:vn,onFill:X,setDragging:Ze,setDraggedOverRowIdx:pn})}(),I(Zo),Oo&&e.jsx("div",{ref:Mo,tabIndex:On?0:-1,className:t("f1lsfrzw7-0-0-beta-51",{[Ne]:!Rn(zo.rowIdx),[Ce]:On,[ve]:On&&-1!==go}),style:{gridRowStart:zo.rowIdx+ko+1}}),null!==no&&e.jsx(Ee,{scrollToPosition:no,setScrollToCellPosition:to,gridRef:co})]})}function Ae(e){return e.querySelector(':scope > [role="row"] > [tabindex="0"]')}function Le(e,o){return e.idx===o.idx&&e.rowIdx===o.rowIdx}var He=o.memo((function({id:o,groupKey:n,childRows:t,isExpanded:r,isCellSelected:l,column:i,row:s,groupColumnIndex:d,isGroupByColumn:a,toggleGroup:c}){var u;const{tabIndex:x,childTabIndex:m,onFocus:w}=ne(l);function f(){c(o)}const g=a&&d===i.idx;return e.jsx("div",{role:"gridcell","aria-colindex":i.idx+1,"aria-selected":l,tabIndex:x,className:N(i),style:{...z(i),cursor:g?"pointer":"default"},onClick:g?f:void 0,onFocus:w,children:(!a||g)&&(null==(u=i.renderGroupCell)?void 0:u.call(i,{groupKey:n,childRows:t,column:i,row:s,isExpanded:r,tabIndex:m,toggleGroup:f}))},i.key)}));o.memo((function({className:n,row:r,rowIdx:l,viewportColumns:i,selectedCellIdx:s,isRowSelected:d,selectCell:a,gridRowStart:c,groupBy:u,toggleGroup:x,isRowSelectionDisabled:m,...w}){const f=i[0].key===X?r.level+1:r.level,g=o.useMemo((()=>({isRowSelectionDisabled:!1,isRowSelected:d})),[d]);return e.jsx(V,{value:g,children:e.jsx("div",{role:"row","aria-level":r.level+1,"aria-setsize":r.setSize,"aria-posinset":r.posInSet+1,"aria-expanded":r.isExpanded,className:t(he,"rdg-group-row g1yxluv37-0-0-beta-51","rdg-row-"+(l%2==0?"even":"odd"),-1===s&&pe,n),onClick:function(){a({rowIdx:l,idx:-1})},style:D(c),...w,children:i.map((o=>e.jsx(He,{id:r.id,groupKey:r.groupKey,childRows:r.childRows,isExpanded:r.isExpanded,isCellSelected:s===o.idx,column:o,row:r,groupColumnIndex:f,toggleGroup:x,isGroupByColumn:u.includes(o.key)},o.key)))})})}));function Pe(e){null==e||e.focus(),null==e||e.select()}function Ke({row:o,column:n,onRowChange:t,onClose:r}){return e.jsx("input",{className:"rdg-text-editor t7vyx3i7-0-0-beta-51",ref:Pe,value:o[n.key],onChange:e=>t({...o,[n.key]:e.target.value}),onBlur:()=>r(!0,!1)})}function We({type:n,selection:t,columns:l}){const{showDialog:s}=a(),d=o.useMemo((()=>e.jsxs("ul",{className:"list-decimal list-inside",children:[e.jsxs("li",{className:"bg-accent/20 mb-1 p-1 border-primary/5 border-2 rounded",children:["Set the google sheet tab name as the selection:",e.jsx("br",{}),e.jsx(c,{text:i(n,t)})]}),e.jsxs("li",{className:"bg-accent/20 mb-1 p-1 border-primary/5 border-2 rounded",children:["Set the columns as the first row of cells in the sheet tab:",e.jsx("br",{}),e.jsx(c,{text:`${Array.from(l.keys()).join("\t")}`})]}),e.jsxs("li",{className:"bg-accent/20 mb-1 p-1 border-primary/5 border-2 rounded",children:["Run the discord command, with the sheet url, to autofill the remaining cells:",e.jsx("br",{}),e.jsx(c,{text:"/sheet_custom auto"})]})]})),[n,t,l]),u=o.useCallback((()=>{s("Creating custom google sheets",d)}),[s,d]),x=o.useMemo((()=>e.jsxs(e.Fragment,{children:[e.jsx(f,{name:"Sheet",className:"h-2 w-2"})," To Google Sheets"]})),[]);return e.jsx(r,{variant:"outline",size:"sm",className:"me-1",onClick:u,children:x})}function $e({data:n,columns:t}){const{showDialog:l}=a(),i=o.useCallback((()=>{l(...s(n,t,!1,g.CSV))}),[l,n,t]),d=o.useCallback((()=>{l(...s(n,t,!0,g.CSV))}),[l,n,t]),c=o.useCallback((()=>{l(...s(n,t,!1,g.TSV))}),[l,n,t]),h=o.useCallback((()=>{l(...s(n,t,!0,g.TSV))}),[l,n,t]),C=o.useMemo((()=>e.jsxs("kbd",{className:"bg-accent rounded flex items-center space-x-1",children:[e.jsx(f,{name:"Download",className:"h-4 w-4"})," ",e.jsx("span",{children:","})]})),[]),p=o.useMemo((()=>e.jsxs("kbd",{className:"bg-accent rounded flex items-center space-x-1",children:[e.jsx(f,{name:"ClipboardIcon",className:"h-4 w-4"})," ",e.jsx("span",{children:","})]})),[]),v=o.useMemo((()=>e.jsxs("kbd",{className:"bg-accent rounded flex items-center space-x-1",children:[e.jsx(f,{name:"Download",className:"h-4 w-3"}),e.jsx(f,{name:"ArrowRightToLine",className:"h-4 w-3"})]})),[]),b=o.useMemo((()=>e.jsxs("kbd",{className:"bg-accent rounded flex items-center space-x-1",children:[e.jsx(f,{name:"ClipboardIcon",className:"h-4 w-3"}),e.jsx(f,{name:"ArrowRightToLine",className:"h-4 w-3"})]})),[]),y=o.useMemo((()=>"Export"),[]);return e.jsx("span",{className:"ms-1",children:e.jsxs(u,{children:[e.jsx(x,{asChild:!0,children:e.jsx(r,{variant:"outline",size:"sm",className:"me-1",children:y})}),e.jsxs(m,{children:[e.jsxs(w,{className:"cursor-pointer",onClick:i,children:[C," Download CSV"]}),e.jsxs(w,{className:"cursor-pointer",onClick:d,children:[p," Copy CSV"]}),e.jsxs(w,{className:"cursor-pointer",onClick:c,children:[v," Download TSV"]}),e.jsxs(w,{className:"cursor-pointer",onClick:h,children:[b," Copy TSV"]})]})]})})}function Ge({table:n,columnsInfo:t,data:r,sort:i,searchSet:s,visibleColumns:a,setColumns:c,setData:u,setSort:x,showExports:m}){const w=o.useMemo((()=>i?Array.isArray(i)?i:[i]:null),[i]),f=o.useMemo((()=>{const e=[];return e.push({key:"index",name:"#",width:0===t.length?void 0:50,sortable:!1,cellClass:l("ps-1",0===t.length?"w-full":void 0),headerCellClass:"ps-1 text-gray-900 dark:text-gray-200 bg-gray-100 dark:bg-gray-600",renderCell:e=>{const o=e.rowIdx+1;return String(o)}}),t.forEach(((o,n)=>{var t;const r=o.index,l=null==(t=o.render)?void 0:t.display;e.push({key:String(r),name:o.title,sortable:!0,resizable:!0,draggable:!0,cellClass:"px-1",headerCellClass:"px-1 text-gray-900 dark:text-gray-200 bg-gray-100 dark:bg-gray-600 text-xs",renderCell:l?e=>{const o=e.row[r];return l(o)}:void 0,renderEditCell:Ke,editable:!0})})),e}),[t]),g=o.useMemo((()=>e.jsx("div",{className:"flex items-center justify-center h-full text-xl text-center bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-200 w-full hover:bg-gray-100 dark:hover:bg-gray-700 cursor-default",children:"No data to display"})),[]),h=o.useCallback(((e,o)=>{if("index"===e||"index"===o)return;const n=Number(e),r=Number(o),l=t.findIndex((e=>e.index===n)),i=t.findIndex((e=>e.index===r));if(-1===l||-1===i)return;const s=[...t],d=s[l],a=s[i];s[l]=a,s[i]=d,c(s)}),[t,c]),[C,p]=o.useState((()=>w?w.map((e=>({columnKey:String(e.idx),direction:"asc"===e.dir?"ASC":"DESC"}))):void 0)),v=o.useCallback((e=>{if(e&&e.length>0){const o=e.map((e=>({idx:Number(e.columnKey),dir:"ASC"===e.direction?"asc":"desc"}))),n=d(r,e,t);n&&(c(n.columns),u(n.data),x(o),p(e))}else p(void 0),x(void 0)}),[r,t,c,u,x,p]),b=o.useMemo((()=>m&&e.jsx($e,{data:r,columns:t})),[m,r,t]),y=o.useMemo((()=>l("text-gray-900 dark:text-gray-200 w-full hover:bg-black/20 dark:hover:bg-white/20","bg-black/5 dark:bg-white/5")),[]),I=o.useMemo((()=>l("text-gray-900 dark:text-gray-200 w-full hover:bg-black/20 dark:hover:bg-white/20","bg-transparent")),[]),S=o.useCallback(((e,o)=>{const n=s.has(o);return l(o%2==0?y:I,n?"bg-blue-100 dark:bg-blue-700":"")}),[s,y,I]),R=o.useMemo((()=>e.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-md overflow-hidden text-xs",children:e.jsx(Oe,{className:"bg-transparent text-xs",style:{height:"70vh",maxHeight:"70vh",flex:"1 1 auto"},ref:n,columns:f,rows:r,sortColumns:C,onSortColumnsChange:v,onColumnsReorder:h,rowClass:S,rowHeight:25,renderers:{noRowsFallback:g},enableVirtualization:!0,onRowsChange:u},t.length)})),[t,r,C,v,h,n,f,g,S,u]);return e.jsxs(e.Fragment,{children:[b,R]})}export{Ge as D,We as G};
